(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(module,exports,__webpack_require__){__webpack_require__(156),__webpack_require__(234),module.exports=__webpack_require__(235)},235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){return __webpack_require__(311)},module)}.call(this,__webpack_require__(111)(module))},31:function(module,__webpack_exports__,__webpack_require__){"use strict";var toConsumableArray=__webpack_require__(24),slicedToArray=__webpack_require__(10),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_csv=__webpack_require__(154),ExportButton=function(_ref){var data=_ref.data;return react_default.a.createElement(react_csv.CSVLink,{tabIndex:"-1",className:"export-link",data:data,filename:"react-csv.csv"},react_default.a.createElement("input",{className:"button button--secondary",type:"button",value:"Export"}))},ModeContext=Object(react.createContext)(),ContentContext=Object(react.createContext)(),EditableField=function(_ref){var value=_ref.value,submitContent=_ref.submitContent,onChange=_ref.onChange,onKeyDown=_ref.onKeyDown,onFocus=_ref.onFocus,toggleMode=_ref.toggleMode;return _ref.editMode?react_default.a.createElement("input",{type:"text",className:"editable-field editable-field--input",value:value,onBlur:submitContent,onChange:onChange,onKeyDown:onKeyDown,ref:onFocus,size:value.length+1}):react_default.a.createElement("div",{className:"editable-field",onClick:toggleMode},value)},Cell=function(_ref){var header=_ref.header,value=_ref.value,rowIndex=_ref.rowIndex,colIndex=_ref.colIndex,isEditable=Object(react.useContext)(ModeContext).isEditable,_useContext2=Object(react.useContext)(ContentContext),dispatch=Object(slicedToArray.a)(_useContext2,2)[1],_useState=Object(react.useState)(value),_useState2=Object(slicedToArray.a)(_useState,2),content=_useState2[0],setContent=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),editMode=_useState4[0],setEditMode=_useState4[1],toggleMode=function toggleMode(){isEditable&&setEditMode(function(mode){return!mode})},handleFocus=function handleFocus(ref){return ref&&ref.focus()},handleChange=function handleChange(e){return setContent(e.target.value)},submitContent=function submitContent(){dispatch({type:"UPDATE_CONTENT",content:content,rowIndex:rowIndex,colIndex:colIndex}),toggleMode()},handleKeyDown=function handleKeyDown(e){return"Enter"===e.key?submitContent():"Escape"===e.key?(toggleMode(),setContent(value)):void 0};return Object(react.useEffect)(function(){setContent(value)},[value]),header?react_default.a.createElement("th",{className:"table__cell table__cell--head"},react_default.a.createElement(EditableField,{value:content,submitContent:submitContent,onChange:handleChange,onKeyDown:handleKeyDown,onFocus:handleFocus,toggleMode:toggleMode,editMode:editMode})):react_default.a.createElement("td",{className:"table__cell"},react_default.a.createElement(EditableField,{value:content,submitContent:submitContent,onChange:handleChange,onKeyDown:handleKeyDown,onFocus:handleFocus,toggleMode:toggleMode,editMode:editMode}))},Row=function(_ref){var header=_ref.header,_ref$cells=_ref.cells,cells=void 0===_ref$cells?[]:_ref$cells,rowIndex=_ref.rowIndex;return react_default.a.createElement("tr",{className:"table__row"},cells.map(function(cell,index){return react_default.a.createElement(Cell,{key:index,rowIndex:header?0:rowIndex,colIndex:index,value:cell,header:header})}))},Toolbar=function(){var _useContext=Object(react.useContext)(ContentContext),_useContext2=Object(slicedToArray.a)(_useContext,2),content=_useContext2[0].content,dispatch=_useContext2[1],header=Object(slicedToArray.a)(content,1)[0],_useState=Object(react.useState)(1),_useState2=Object(slicedToArray.a)(_useState,2),row=_useState2[0],setRow=_useState2[1],_useState3=Object(react.useState)(1),_useState4=Object(slicedToArray.a)(_useState3,2),column=_useState4[0],setColumn=_useState4[1];return react_default.a.createElement("div",{className:"toolbar"},react_default.a.createElement("div",{className:"toolbar__row"},react_default.a.createElement("input",{className:"button button--primary",type:"button",value:"Add Row",onClick:function onClick(){return dispatch({type:"ADD_ROW",rowIndex:Number(row)})}}),react_default.a.createElement("input",{className:"button button--primary",type:"button",value:"Remove Row",onClick:function onClick(){return dispatch({type:"REMOVE_ROW",rowIndex:Number(row)})}}),react_default.a.createElement("input",{className:"input-number",type:"number",value:row,min:"1",max:content.length,onChange:function onChange(e){return setRow(e.target.value)}})),react_default.a.createElement("div",{className:"toolbar__row"},react_default.a.createElement("input",{className:"button button--primary",type:"button",value:"Add Column",onClick:function onClick(){return dispatch({type:"ADD_COLUMN",colIndex:Number(column)})}}),react_default.a.createElement("input",{className:"button button--primary",type:"button",value:"Remove Column",onClick:function onClick(){return dispatch({type:"REMOVE_COLUMN",colIndex:Number(column)})}}),react_default.a.createElement("input",{className:"input-number",type:"number",value:column,min:"1",max:header.length+1,onChange:function onChange(e){return setColumn(e.target.value)}})))},uuid=__webpack_require__(62),uuid_default=__webpack_require__.n(uuid),objectSpread=__webpack_require__(32),reducers=function(state,action){switch(action.type){case"UPDATE_CONTENT":var newContent=Object(toConsumableArray.a)(state.content);return newContent[action.rowIndex][action.colIndex]=action.content,Object(objectSpread.a)({},state,{content:newContent});case"ADD_ROW":var _newContent=Object(toConsumableArray.a)(state.content),newUniqueKeys=Object(toConsumableArray.a)(state.uniqueKeys),header=Object(slicedToArray.a)(_newContent,1)[0];return _newContent.splice(action.rowIndex,0,new Array(header.length).fill("")),newUniqueKeys.splice(action.rowIndex,0,uuid_default.a.v4()),Object(objectSpread.a)({},state,{content:_newContent,uniqueKeys:newUniqueKeys});case"REMOVE_ROW":var _newContent3=state.content.filter(function(_,index){return index!==action.rowIndex}),_newUniqueKeys=state.uniqueKeys.filter(function(_,index){return index!==action.rowIndex});return Object(objectSpread.a)({},state,{content:_newContent3,uniqueKeys:_newUniqueKeys});case"ADD_COLUMN":var _newContent4=state.content.map(function(row){var newRow=Object(toConsumableArray.a)(row);return newRow.splice(action.colIndex-1,0,""),newRow});return Object(objectSpread.a)({},state,{content:_newContent4});case"REMOVE_COLUMN":var _newContent5=state.content.map(function(row){return row.filter(function(_,index){return index!==action.colIndex-1})});return Object(objectSpread.a)({},state,{content:_newContent5});default:throw new Error("Invalid action")}};__webpack_require__(320),__webpack_exports__.a=function(_ref){var _ref$data=_ref.data,data=void 0===_ref$data?[]:_ref$data,editable=_ref.editable,toolbar=_ref.toolbar,exportable=_ref.exportable,initialState={content:data,uniqueKeys:function useUniqueKeys(length){return Object(react.useMemo)(function(){return Array.from({length:length},function(){return uuid_default.a.v4()})},[length])}(data.length)},_useReducer=Object(react.useReducer)(reducers,initialState),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],_ref2=Object(toConsumableArray.a)(state.content),header=_ref2[0],rows=_ref2.slice(1);return react_default.a.createElement(ModeContext.Provider,{value:{isEditable:Boolean(editable)}},react_default.a.createElement(ContentContext.Provider,{value:[state,dispatch]},react_default.a.createElement("div",{className:"csv-table-wrapper"},react_default.a.createElement("div",{className:"features"},toolbar&&react_default.a.createElement(Toolbar,null),exportable&&react_default.a.createElement(ExportButton,{data:state.content})),react_default.a.createElement("table",{className:"csv-table"},react_default.a.createElement("thead",{className:"csv-table__header"},react_default.a.createElement(Row,{header:!0,cells:header})),react_default.a.createElement("tbody",{className:"csv-table__body"},rows.map(function(row,index){return react_default.a.createElement(Row,{key:state.uniqueKeys[index+1],rowIndex:index+1,cells:row})}))))))}},311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_src_table_csv__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31),exampleData=[["First Name","Last Name","House"],["Harry","Potter","Gryffindor"],["Hermiona","Granger","Gryffindor"],["Luna","Lovegood","Ravenclaw"],["Draco","Malfoy","Slytherin"]];Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Table",module).add("default",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData})}).add("editable",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData,editable:!0})}).add("with toolbar",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData,toolbar:!0})}).add("exportable",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData,exportable:!0})}).add("all features",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData,editable:!0,toolbar:!0,exportable:!0})})}.call(this,__webpack_require__(111)(module))},320:function(module,exports,__webpack_require__){}},[[155,1,2]]]);
//# sourceMappingURL=main.5c1fdf8c3e808c72b6d1.bundle.js.map