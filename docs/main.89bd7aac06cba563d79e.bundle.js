(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(module,exports,__webpack_require__){__webpack_require__(149),__webpack_require__(227),module.exports=__webpack_require__(228)},228:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){return __webpack_require__(304)},module)}.call(this,__webpack_require__(109)(module))},304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(59),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_src_table_csv__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85),exampleData=[["First Name","Last Name","House"],["Harry","Potter","Gryffindor"],["Hermiona","Granger","Gryffindor"],["Luna","Lovegood","Ravenclaw"],["Draco","Malfoy","Slytherin"]];Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Table",module).add("default",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData})}).add("editable",function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_table_csv__WEBPACK_IMPORTED_MODULE_2__.a,{data:exampleData,editable:!0})})}.call(this,__webpack_require__(109)(module))},85:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(29),toConsumableArray=__webpack_require__(39),react=__webpack_require__(0),react_default=__webpack_require__.n(react),ModeContext=Object(react.createContext)(),ContentContext=Object(react.createContext)(),Cell=function(_ref){var header=_ref.header,value=_ref.value,rowIndex=_ref.rowIndex,colIndex=_ref.colIndex,isEditable=Object(react.useContext)(ModeContext).isEditable,_useContext2=Object(react.useContext)(ContentContext),dispatch=Object(slicedToArray.a)(_useContext2,2)[1],_useState=Object(react.useState)(value),_useState2=Object(slicedToArray.a)(_useState,2),content=_useState2[0],setContent=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=Object(slicedToArray.a)(_useState3,2),editMode=_useState4[0],setEditMode=_useState4[1],toggleMode=function toggleMode(){isEditable&&setEditMode(function(mode){return!mode})},handleFocus=function handleFocus(ref){return ref&&ref.focus()},handleChange=function handleChange(e){return setContent(e.target.value)},submitContent=function submitContent(){dispatch({type:"UPDATE_CONTENT",content:content,rowIndex:rowIndex,colIndex:colIndex}),toggleMode()},handleKeyDown=function handleKeyDown(e){return"Enter"===e.key?submitContent():"Escape"===e.key?(toggleMode(),setContent(value)):void 0};return header?react_default.a.createElement("th",null,editMode?react_default.a.createElement("input",{type:"text",value:content,onBlur:submitContent,onChange:handleChange,onKeyDown:handleKeyDown,ref:handleFocus}):react_default.a.createElement("div",{onClick:toggleMode},content)):react_default.a.createElement("td",null,editMode?react_default.a.createElement("input",{type:"text",value:content,onBlur:submitContent,onChange:handleChange,onKeyDown:handleKeyDown,ref:handleFocus}):react_default.a.createElement("div",{onClick:toggleMode},content))},Row=function(_ref){var header=_ref.header,cells=_ref.cells,rowIndex=_ref.rowIndex;return react_default.a.createElement("tr",null,cells.map(function(cell,index){return react_default.a.createElement(Cell,{key:index,rowIndex:header?0:rowIndex,colIndex:index,value:cell,header:header})}))},reducers=function(state,action){switch(action.type){case"UPDATE_CONTENT":var newState=Object(toConsumableArray.a)(state);return newState[action.rowIndex][action.colIndex]=action.content,Object(toConsumableArray.a)(newState);default:throw new Error("Invalid action")}};__webpack_exports__.a=function(_ref){var data=_ref.data,editable=_ref.editable,_ref2=Object(toConsumableArray.a)(data),header=_ref2[0],rows=_ref2.slice(1),_useReducer=Object(react.useReducer)(reducers,data),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return react_default.a.createElement(ModeContext.Provider,{value:{isEditable:Boolean(editable)}},react_default.a.createElement(ContentContext.Provider,{value:[state,dispatch]},react_default.a.createElement("table",null,react_default.a.createElement("thead",null,react_default.a.createElement(Row,{header:!0,cells:header})),react_default.a.createElement("tbody",null,rows.map(function(row,index){return react_default.a.createElement(Row,{key:index,rowIndex:index+1,cells:row})})))))}}},[[148,1,2]]]);
//# sourceMappingURL=main.89bd7aac06cba563d79e.bundle.js.map